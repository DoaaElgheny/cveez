<div class="page-content">
  <div class="form h-100">
    <div class="form-container create-form">
      <div class="form-container">
        <form
          [formGroup]="seekerRegisterationForm"
          role="form"
          #f="ngForm"
          novalidate="novalidate"
        >
          <div id="part1" class="form-group">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <div class="panel-heading"></div>
              </div>
              <div class="form-content">
                <div class="container">
                  <div class="form-title">
                    <h2>
                      {{ "jobSeeker.PersonalInformation" | translate }}
                    </h2>
                    <p>
                      {{ "jobSeeker.SubTitle" | translate }}
                    </p>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="">{{
                          "SharedFields.FullName" | translate
                        }}</label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <input
                          type="text"
                          class="form-control"
                          [placeholder]="'SharedFields.FullName' | translate"
                          formControlName="fullName"
                          aria-label=""
                        />
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control:
                              seekerRegisterationForm.controls['fullName']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'minlength',
                            message: 'Validation.NameMinLength' | translate,
                            control:
                              seekerRegisterationForm.controls['fullName']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'maxlength',
                            message: 'Validation.NameMaxLength' | translate,
                            control:
                              seekerRegisterationForm.controls['fullName']
                          }"
                        ></ng-container>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="inputState2">
                          {{ "SharedFields.Nationality" | translate }} </label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <select
                          id="inputState2"
                          class="form-select"
                          formControlName="nationalityId"
                        >
                          <option [value]="null">
                            {{ "SharedFields.SelectOption" | translate }}
                          </option>
                          <option
                            *ngFor="let nationality of nationalitiesList"
                            [value]="nationality.id"
                          >
                            {{
                              lang === "ar"
                                ? nationality.nameAr
                                : nationality.nameEn
                            }}
                          </option>
                        </select>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control:
                              seekerRegisterationForm.controls['nationalityId']
                          }"
                        ></ng-container>
                      </div>
                    </div>

                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="inputState3">
                          {{ "SharedFields.Country" | translate }}</label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <select
                          id="inputState3"
                          class="form-select"
                          formControlName="countryId"
                        >
                          <option [value]="null">
                            {{ "SharedFields.SelectOption" | translate }}
                          </option>
                          <option
                            *ngFor="let country of countriesList"
                            [value]="country.id"
                          >
                            {{
                              lang === "ar" ? country.nameAr : country.nameEn
                            }}
                          </option>
                        </select>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control:
                              seekerRegisterationForm.controls['countryId']
                          }"
                        ></ng-container>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="">
                          {{ "SharedFields.MobileNumber" | translate }} </label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <intl-telephone-input
                          #mobileNumber
                          [preferredCountries]="[
                            CountryISO.Pakistan,
                            CountryISO.India
                          ]"
                          [enablePlaceholder]="true"
                          [searchCountryFlag]="true"
                          [separateDialCode]="false"
                          [enableAutoCountrySelect]="true"
                          [searchCountryField]="SearchCountryField.All"
                          [phoneValidation]="true"
                          [numberFormat]="PhoneNumberFormat.International"
                          [inputId]="'mobileNumber'"
                          (onChange)="onInputChange($event)"
                        >
                        </intl-telephone-input>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control:
                              seekerRegisterationForm.controls['mobileNumber']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'maxlength',
                            message: 'Validation.MobileMaxLength' | translate,
                            control:
                              seekerRegisterationForm.controls['mobileNumber']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'minlength',
                            message: 'Validation.MobileMinLength' | translate,
                            control:
                              seekerRegisterationForm.controls['mobileNumber']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'pattern',
                            message: 'Validation.MobilePattern' | translate,
                            control:
                              seekerRegisterationForm.controls['mobileNumber']
                          }"
                        ></ng-container>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="">{{
                          "SharedFields.Email" | translate
                        }}</label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <input
                          type="text"
                          class="form-control"
                          [placeholder]="
                            'Validation.EmailPlaceholder' | translate
                          "
                          formControlName="email"
                          aria-label=""
                        />
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control: seekerRegisterationForm.controls['email']
                          }"
                        ></ng-container>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'pattern',
                            message: 'Validation.EmailPattern' | translate,
                            control: seekerRegisterationForm.controls['email']
                          }"
                        ></ng-container>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3">
                      <div class="form-group">
                        <label for="">{{
                          "SharedFields.Password" | translate
                        }}</label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <div class="password-input">
                          <input
                            [type]="showPassword ? 'text' : 'password'"
                            class="form-control"
                            formControlName="password"
                            [placeholder]="'SharedFields.Password' | translate"
                            aria-label=""
                          />
                          <button (click)="togglePasswordVisibilty()">
                            <img
                              *ngIf="showPassword"
                              src="../assets/imgs/password.png"
                              alt=""
                              srcset=""
                            />
                            <img
                              *ngIf="!showPassword"
                              src="../assets/imgs/hide.png"
                              alt=""
                              srcset=""
                            />
                          </button>
                          <ng-container
                            [ngTemplateOutlet]="formError"
                            [ngTemplateOutletContext]="{
                              validation: 'required',
                              message:
                                'Validation.ThisFieldIsRequired' | translate,
                              control:
                                seekerRegisterationForm.controls['password']
                            }"
                          ></ng-container>
                          <!-- <ng-container
                            [ngTemplateOutlet]="formError"
                            [ngTemplateOutletContext]="{
                              validation: 'maxlength',
                              message:
                                'Validation.PasswordMaxLength' | translate,
                              control:
                                seekerRegisterationForm.controls['password']
                            }"
                          ></ng-container> -->
                          <ng-container
                            [ngTemplateOutlet]="formError"
                            [ngTemplateOutletContext]="{
                              validation: 'pattern',
                              message: 'Validation.PasswordPattern' | translate,
                              control:
                                seekerRegisterationForm.controls['password']
                            }"
                          ></ng-container>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12 mb-3">
                      <div class="form-group">
                        <label for="">
                          {{ "viewProfileuser.Jobtitle" | translate }} </label
                        ><span class="text-danger mx-2 fs-2">*</span>
                        <ng-multiselect-dropdown
                          [placeholder]="
                            'SharedFields.SelectOption' | translate
                          "
                          [settings]="dropdownSettings"
                          [data]="jobTitlesList"
                          formControlName="titlesView"
                          #titles
                          (onSelect)="onItemSelect($event, 'titles', titles)"
                          (onSelectAll)="onSelectAll($event, 'titles', titles)"
                        >
                        </ng-multiselect-dropdown>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control: seekerRegisterationForm.controls['titles']
                          }"
                        ></ng-container>
                      </div>
                    </div>

                    <div class="col-md-12 mb-3">
                      <div class="form-group">
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            formControlName="termsAndConditions"
                            value=""
                            id="flexCheckChecked"
                          />
                          <label
                            class="form-check-label sd ff"
                            for="flexCheckDefault"
                          >
                            {{ "SharedFields.IAgree" | translate }}
                            <a
                              href="/privacy-policy"
                              [ngStyle]="{ cursor: 'pointer' }"
                              target="_blank"
                              rel="noopener noreferrer"
                              >{{
                                "SharedFields.TermsAndPrivacyPolicy" | translate
                              }}</a
                            > </label
                          ><span class="text-danger mx-0 fs-2">*</span>
                        </div>
                        <ng-container
                          [ngTemplateOutlet]="formError"
                          [ngTemplateOutletContext]="{
                            validation: 'required',
                            message:
                              'Validation.ThisFieldIsRequired' | translate,
                            control:
                              seekerRegisterationForm.controls[
                                'termsAndConditions'
                              ]
                          }"
                        ></ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-action two">
                <div class="container">
                  <div
                    class="btn-group btn-group-lg m-0"
                    role="group"
                    aria-label="..."
                  >
                    <button class="continue my-2" (click)="submit()">
                      <div
                        class="btn btn-default btn-success btn-lg"
                        role="button"
                      >
                        {{ "Buttons.Save" | translate }}
                      </div>
                    </button>

                    <label
                      for="step2"
                      id="back-step2"
                      class="back my-2"
                      (click)="redirectTo()"
                    >
                      <div
                        class="btn btn-default btn-primary btn-lg"
                        role="button"
                      >
                        {{ "Buttons.Cancel" | translate }}
                      </div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<ng-template
  #formError
  let-control="control"
  let-message="message"
  let-validation="validation"
>
  <ng-container
    *ngIf="control.hasError(validation) && (control.dirty || control.touched)"
  >
    <div class="fv-plugins-message-container">
      <div class="fv-help-block">
        <span role="alert">
          {{ message }}
        </span>
      </div>
    </div>
  </ng-container>
</ng-template>
